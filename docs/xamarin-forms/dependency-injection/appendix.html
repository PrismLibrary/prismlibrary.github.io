<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Prism Container Extensions | Prism </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Prism Container Extensions | Prism ">
    <meta name="generator" content="docfx 2.47.0.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <link rel="stylesheet" href="../../../styles/affix.css">
    <meta property="docfx:navrel" content="../../../toc">
    <meta property="docfx:tocrel" content="toc">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../images/prism-logo.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                <ul class="nav level1 navbar-nav">
                  <li class="">
                    <a href="http://prismlibrary.github.io/" title="Home" class="">Home</a>
                  </li>
                  <li class="">
                    <a href="../../../docs/index.html" title="Documentation" class="">Documentation</a>
                  </li>
                  <li class="">
                    <a href="https://www.pluralsight.com/authors/brian-lagunas/" title="Learn" class="">Learn</a>
                  </li>
                </ul>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <a href="index.html" title="Getting Started" class="">Getting Started</a>
                    </li>
                    <li class="">
                      <a href="registering-types.html" title="Registering Types" class="">Registering Types</a>
                    </li>
                    <li class="">
                      <a href="platform-specific-services.html" title="Platform Specific Services" class="">Platform Specific Services</a>
                    </li>
                    <li class="">
                      <a href="add-custom-container.html" title="Adding a Custom Container" class="">Adding a Custom Container</a>
                    </li>
                    <li class="active">
                      <a href="appendix.html" title="Appendix" class="active">Appendix</a>
                    </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="prism-container-extensions">Prism Container Extensions</h1>

<p>Prism&#39;s out of the box registration methods cover you for most of your dependency injection scenarios. In fact there are many projects which will never need to do more than simply register a service as either a Transient or a Singleton in addition to registering Pages for Navigation. There are however times where you may need to do things like:</p>
<ul>
<li>Register a type using a factory method</li>
<li>Register a single implementing type for more than one service<ul>
<li>This may be done simply with Prism if you are registering it as a Transient, however the Container Extensions allow you to do this with a single line of code</li>
<li>You may also have a need for the service to be a singleton and use that same instance regardless of which interface was resolved.</li>
</ul>
</li>
</ul>
<p>In addition to this you may want to take advantage of extended version of Prism.Forms from the Container Extension as this provides more debugging hooks built in by default to give you better context around uncaught exceptions encountered in your application. For more information be sure to check out the <a href="https://github.com/dansiegel/Prism.Container.Extensions">Prism.Container.Extensions</a> repo.</p>
<h2 id="support-for-shiny-lib">Support for Shiny Lib</h2>
<p>One of the best new libraries for Xamarin developers is without question the Shiny Library from Allan Ritchie. This provides a number of features from handling settings, determining whether you are connected to a network, background tasks, bluetooth and more. Shiny was built with Dependency Injection in mind from the start. This has a number of benefits including that it uses an interface based approach allowing you to mock any services from Shiny which you might inject into your ViewModels.</p>
<p>The one downside with Shiny is that it requires initialization before Xamarin.Forms or Prism have had a chance to initialize. This fundamentally changes the source of truth for your Dependency Injection. In order to properly combine both Prism and Shiny you will need to properly provide the DI container as the IServiceProvider that Shiny will use. The easiest way to do this is to use a container impelementation from <a href="https://github.com/dansiegel/Prism.Container.Extensions">Prism.Container.Extensions</a> along with the <a href="https://www.nuget.org/packages/Shiny.Prism">Shiny.Prism</a> NuGet from the same repo.</p>
<div class="NOTE"><h5>Note</h5><p>If you use the Extended Forms packages (Prism.DryIoc.Forms.Extended or Prism.Unity.Forms.Extended) you should not use the Container specific packages from Prism (Prism.DryIoc.Forms or Prism.Unity.Forms) as the PrismApplication in those packages is already configured to use the proper PrismContainerExtension.</p>
</div>
<p>You may elect to use Prism.Forms directly with one of the Container Extensions packages. If you do so you will want to update your app as follows:</p>
<pre><code class="lang-cs">public partial class App : PrismApplicationBase
{
    protected override IContainerExtension CreateContainerExtension() =&gt;
        PrismContainerExtension.Current;
}
</code></pre><p>Using the Startup base class in Shiny.Prism you will then simply provide the container extension as follows:</p>
<pre><code class="lang-cs">public class Startup : PrismStartup
{
    public Startup()
        : base(PrismContainerExtension.Current)
    {
    }

    protected override void ConfigureServices(IServiceCollection services)
    {
        // Register any types you need to with Shiny
    }
}
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix" style="margin-top: 0px;">
              <div class="connect-widget">
                <ul class="connect-links">
          		<li id="connect-github">
          			<a href="https://github.com/PrismLibrary/Prism-Documentation/blob/master/docs/xamarin-forms/dependency-injection/appendix.md/#L1" target="_blank">
          				<div class="image github"></div>Edit on GitHub
          			</a>
                  </li>
                  <li id="connect-stack-overflow">
                      <a href="https://stackoverflow.com/questions/tagged/prism" target="_blank">
                          <div class="image stackoverflow"></div>Ask questions
                      </a>
                  </li>
                  <li id="connect-twitter">
                      <a href="https://twitter.com/prismlib" target="_blank">
                          <div class="image twitterhandle"></div>Follow @PrismLib
                      </a>
                  </li>
                  <li id="connect-twitter">
                      <a href="https://twitter.com/brianlagunas" target="_blank">
                          <div class="image twitterhandle"></div>Follow @BrianLagunas
                      </a>
                  </li>
                  <li id="connect-twitter">
                      <a href="https://twitter.com/danjsiegel" target="_blank">
                          <div class="image twitterhandle"></div>Follow @DanJSiegel
                      </a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright 2017 Prism
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>
